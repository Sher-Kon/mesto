(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.d({},{$B:()=>Z,BH:()=>ce,zr:()=>le,AB:()=>se});var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=t.baseUrl,this._headers=t.headers}var n,r;return n=e,(r=[{key:"getInitialCards",value:function(){return fetch(this._baseUrl+"cards",{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject('Ошибка. Запрос "ini card" не выполнен.')})).then((function(e){return e}))}},{key:"readProfile",value:function(){return fetch(this._baseUrl+"users/me",{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject('Ошибка. Запрос "Rd profile" не выполнен.')})).then((function(e){return e}))}},{key:"writeProfile",value:function(e){return fetch(this._baseUrl+"users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then((function(e){return e.ok?e.json():Promise.reject('Ошибка. Запрос "Wr profile" не выполнен.')})).then((function(e){return e}))}},{key:"writeCard",value:function(e){return fetch(this._baseUrl+"cards",{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){return e.ok?e.json():Promise.reject('Ошибка. Запрос "writeCard" не выполнен.')})).then((function(e){return e}))}},{key:"deleteCard",value:function(e){return fetch(this._baseUrl+"cards/"+e,{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject('Ошибка. Запрос "deleteCard" не выполнен.')})).then((function(e){return e}))}},{key:"writeAvatar",value:function(e){return fetch(this._baseUrl+"users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((function(e){return e.ok?e.json():Promise.reject('Ошибка. Запрос "Wr avatar" не выполнен.')})).then((function(e){return e}))}},{key:"setLike",value:function(e){return fetch(this._baseUrl+"cards/"+e+"/likes",{method:"PUT",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject('Ошибка. Запрос "setLike" не выполнен.')})).then((function(e){return e}))}},{key:"delLike",value:function(e){return fetch(this._baseUrl+"cards/"+e+"/likes",{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject('Ошибка. Запрос "delLike" не выполнен.')})).then((function(e){return e}))}},{key:"getIniData",value:function(){return Promise.all([this.readProfile(),this.getInitialCards()])}}])&&t(n.prototype,r),e}();function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this),this._handleOverlayClose=this._handleOverlayClose.bind(this)}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_handleOverlayClose",value:function(e){e.target.classList.contains("popup_opened")&&this.close()}},{key:"open",value:function(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.querySelector(".x-btn").addEventListener("click",(function(){e.close()})),this._popupElement.addEventListener("click",this._handleOverlayClose)}}])&&r(t.prototype,n),e}();function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=l(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},a.apply(this,arguments)}function l(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function s(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(l,e);var t,n,r,i,o=(r=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(r);if(i){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function l(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(r=o.call(this,e))._textImg=r._popupElement.querySelector(t),r._logImg=r._popupElement.querySelector(n),r}return t=l,(n=[{key:"open",value:function(e){a(f(l.prototype),"open",this).call(this),this._logImg.src=e.querySelector(".element__img").src,this._logImg.alt="На фотографии "+e.querySelector(".element__txt").textContent,this._textImg.textContent=e.querySelector(".element__txt").textContent}}])&&u(t.prototype,n),l}(i);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=m(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},_.apply(this,arguments)}function m(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function v(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(u,e);var t,n,r,i,o=(r=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(i){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return v(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=o.call(this,e))._handleSubmitPopup=t,n._formElement=n._popupElement.querySelector(".form"),n._inputList=Array.from(n._popupElement.querySelectorAll(".form__input")),n}return t=u,(n=[{key:"close",value:function(){_(b(u.prototype),"close",this).call(this),this._formElement.reset()}},{key:"getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){return e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){_(b(u.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",this._handleSubmitPopup)}}])&&d(t.prototype,n),u}(i);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=w(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},L.apply(this,arguments)}function w(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}function I(e,t){return I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},I(e,t)}function S(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(u,e);var t,n,r,i,o=(r=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(r);if(i){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return S(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=o.call(this,e))._handleConfirm=t,n}return t=u,(n=[{key:"open",value:function(e){L(C(u.prototype),"open",this).call(this),this._card=e}},{key:"setEventListeners",value:function(){var e=this;L(C(u.prototype),"setEventListeners",this).call(this),this._popupElement.querySelector(".confirm__btn").addEventListener("click",(function(){e._handleConfirm(e._card)}))}}])&&E(t.prototype,n),u}(i);function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameElement=document.querySelector(t),this._infoElement=document.querySelector(n)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){var e={name:"",info:""};return e.name=this._nameElement.textContent,e.info=this._infoElement.textContent,e}},{key:"setUserInfo",value:function(e,t){this._nameElement.textContent=e,this._infoElement.textContent=t}}])&&j(t.prototype,n),e}();function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var q=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=t,this._renderer=n,this._container=document.querySelector(r)}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"addItemDn",value:function(e){this._container.append(e)}},{key:"renderItem",value:function(e){var t=this._renderer(e);this.addItem(t)}},{key:"renderItems",value:function(){var e=this;this._items.forEach((function(t){var n=e._renderer(t);e.addItemDn(n)}))}}])&&P(t.prototype,n),e}();function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),R(this,"_checkInputValidity",(function(e,t){t.validity.valid?r._hideInputError(e,t):r._showInputError(e,t,t.validationMessage)})),R(this,"_addInputEventListener",(function(e){e.addEventListener("input",(function(){r._findErrCheckInputAndToggleBtn(e)}))})),R(this,"enableValidation",(function(){r._setEventListeners()})),this._settings=t,this._formElement=document.querySelector(n),this._inputList=Array.from(this._formElement.querySelectorAll(this._settings.inputSelector)),this._submitButton=this._formElement.querySelector(this._settings.submitButtonSelector)}var t,n;return t=e,(n=[{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_showInputError",value:function(e,t,n){t.classList.add(this._settings.inputTypeError),e.classList.add(this._settings.inputActiveError),e.textContent=n}},{key:"_hideInputError",value:function(e,t){t.classList.remove(this._settings.inputTypeError),e.classList.remove(this._settings.inputActiveError),e.textContent=""}},{key:"resetValidation",value:function(){var e=this;this._inputList.forEach((function(t){var n=t.id,r=e._formElement.querySelector("."+n+"-error");e._hideInputError(r,t)}))}},{key:"disableButtonState",value:function(){this._submitButton.disabled=!0,this._submitButton.classList.add(this._settings.buttonInactive)}},{key:"enableButtonState",value:function(){this._submitButton.disabled=!1,this._submitButton.classList.remove(this._settings.buttonInactive)}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this.disableButtonState():this.enableButtonState()}},{key:"_findErrCheckInputAndToggleBtn",value:function(e){var t=e.id,n=this._formElement.querySelector("."+t+"-error");this._checkInputValidity(n,e),this._toggleButtonState()}},{key:"_setEventListeners",value:function(){var e=this;this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._inputList.forEach((function(t){e._addInputEventListener(t)}))}}])&&B(t.prototype,n),e}();function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(){function e(t,n,r,i,o,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._myCard=t.myCard,this._myID=t.myID,this._ownerID=t.ownerID,this._cardID=t.cardID,this._title=t.name,this._image=t.link,this._numLikes=t.numLikes,this._myLike=t.myLike,this._template=n,this._handleCardClick=r,this._handleSetLikeRequest=i,this._handleDelLikeRequest=o,this._handleDelCardRequest=u}var t,n;return t=e,(n=[{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._likeButton=this._element.querySelector(".element__like-btn"),this._likeNum=this._element.querySelector(".element__like-num"),this._delButton=this._element.querySelector(".element__del-btn"),this._imgButton=this._element.querySelector(".element__img-btn"),this._cardImage=this._element.querySelector(".element__img"),this._setEventListeners(),this._cardImage.src=this._image,this._cardImage.alt="На фотографии "+this._title,this._element.querySelector(".element__txt").textContent=this._title,this._likeNum.textContent=this._numLikes,this._myLike?this._likeButton.classList.add("element__like-btn_active"):this._likeButton.classList.remove("element__like-btn_active"),this._ownerID!==this._myID&&this._delButton.remove(),this._element}},{key:"_getTemplate",value:function(){return document.querySelector("."+this._template).content.querySelector(".element").cloneNode(!0)}},{key:"_setEventListeners",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){e._handleLikeClick()})),this._ownerID===this._myID&&this._delButton.addEventListener("click",(function(){e._handleDeleteCard()})),this._imgButton.addEventListener("click",(function(){e._handlePictureClick()}))}},{key:"updateLikes",value:function(e){this._numLikes=e,this._likeNum.textContent=this._numLikes}},{key:"setMyLike",value:function(){this._myLike=!0,this._likeButton.classList.add("element__like-btn_active")}},{key:"delMyLike",value:function(){this._myLike=!1,this._likeButton.classList.remove("element__like-btn_active")}},{key:"_handleLikeClick",value:function(){this._myLike?this._handleDelLikeRequest(this):this._handleSetLikeRequest(this)}},{key:"_handleDeleteCard",value:function(){this._handleDelCardRequest(this)}},{key:"_handlePictureClick",value:function(){this._handleCardClick(this._element)}},{key:"deleteCardElement",value:function(){var e=this;this._likeButton.removeEventListener("click",(function(){e._likeClick()})),this._ownerID===this._myID&&this._delButton.removeEventListener("click",(function(){e._deleteCard()})),this._imgButton.removeEventListener("click",(function(){e._handlePictureClick()})),this._element.remove()}}])&&T(t.prototype,n),e}(),U=function(e,t){document.querySelector(e).textContent=t},V={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__submit",inputTypeError:".form__input_type_error",inputActiveError:".form__input-error_active",buttonInactive:"button_inactive"};function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=[{name:"",link:"",myID:"",ownerID:"",cardID:"",numLikes:0,likes:[],myLike:!1},{name:"",link:"",myID:"",ownerID:"",cardID:"",numLikes:0,likes:[],myLike:!1},{name:"",link:"",myID:"",ownerID:"",cardID:"",numLikes:0,likes:[],myLike:!1},{name:"",link:"",myID:"",ownerID:"",cardID:"",numLikes:0,likes:[],myLike:!1},{name:"",link:"",myID:"",ownerID:"",cardID:"",numLikes:0,likes:[],myLike:!1},{name:"",link:"",myID:"",ownerID:"",cardID:"",numLikes:0,likes:[],myLike:!1}],H="",J=new n({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-33/",headers:{authorization:"51ca28f6-a002-497b-8233-6c80bd0cac76","Content-Type":"application/json"}}),z=new q(M,(function(e){return new A(e,"element-card",le,se,ce,Z).generateCard()}),".elements"),W=new O(".confirm",(function(e){U(".confirm__btn","Удаление...");var t=e._cardID;J.deleteCard(t).then((function(t){e.deleteCardElement(),U(".confirm__btn","Да"),W.close()})).catch((function(e){return alert(e)}))})),$=new k(".edit-avatar",(function(e){e.preventDefault(),U(".edit-avatar__btn-save","Загрузка...");var t=$.getInputValues();J.writeAvatar(t.urlAvatar).then((function(e){ne.src=e.avatar,U(".edit-avatar__btn-save","Сохранить"),$.close()})).catch((function(e){return alert(e)}))})),F=new k(".edit-profile",(function(e){e.preventDefault();var t=F.getInputValues(),n={name:"",about:""};n.name=t.nameInput,n.about=t.jobInput,U(".popup__btn-save","Загрузка..."),J.writeProfile(n).then((function(e){Q.setUserInfo(e.name,e.about),U(".popup__btn-save","Сохранить"),F.close()})).catch((function(e){return alert(e)}))})),G=new k(".bild-card",(function(e){e.preventDefault();var t=G.getInputValues(),n={name:"",link:""};n.name=t.placeInput,n.link=t.urlInput,U(".bild-card__btn-save","Загрузка..."),J.writeCard(n).then((function(e){U(".bild-card__btn-save","Создать"),n.myID=H,n.ownerID=H,n.myLike=!1,n.numLikes=0,n.cardID=e._id,z.renderItem(n),G.close(),Y.disableButtonState()})).catch((function(e){return alert(e)}))})),K=new h(".look-img",".look-img__title",".look-img__img"),Q=new D(".profile__info-name",".profile__info-job");new x(V,".edit-avatar").enableValidation();var X=new x(V,".edit-profile");X.enableValidation();var Y=new x(V,".bild-card");function Z(e){W.open(e)}Y.enableValidation(),W.setEventListeners(),document.querySelector(".profile__avatar-btn").addEventListener("click",(function(){$.open()})),$.setEventListeners();var ee=document.querySelector(".content"),te=ee.querySelector(".profile__info-edit-btn"),ne=(ee.querySelector(".profile__info-name"),ee.querySelector(".profile__info-job"),document.querySelector(".profile__avatar")),re=document.querySelector(".edit-profile"),ie=re.querySelector(".popup__text_input_name"),oe=re.querySelector(".popup__text_input_job");ie.value="",oe.value="",F.setEventListeners(),te.addEventListener("click",(function(){X.resetValidation(),X.enableButtonState();var e=Q.getUserInfo();ie.value=e.name,oe.value=e.info,F.open()}));var ue=document.querySelector(".profile__add-btn"),ae=document.querySelector(".bild-card");function le(e){K.open(e)}function ce(e){var t=e._cardID;J.delLike(t).then((function(t){var n=t.likes.length;e.updateLikes(n),e.delMyLike()})).catch((function(e){return alert(e)}))}function se(e){var t=e._cardID;J.setLike(t).then((function(t){var n=t.likes.length;e.updateLikes(n),e.setMyLike()})).catch((function(e){return alert(e)}))}ae.querySelector(".bild-card__text_input_place"),ae.querySelector(".bild-card__text_input_url"),G.setEventListeners(),ue.addEventListener("click",(function(){Y.resetValidation(),Y.disableButtonState(),G.open()})),K.setEventListeners(),J.getIniData().then((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);u=!0);}catch(e){a=!0,i=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),n=t[0],r=t[1];Q.setUserInfo(n.name,n.about),ne.src=n.avatar,H=n._id,console.log("Всего карточек: "+r.length);for(var i=r.length,o=0;o<i;o+=1){M[o].name=r[o].name,M[o].link=r[o].link,M[o].myID=n._id,M[o].ownerID=r[o].owner._id,M[o].cardID=r[o]._id,M[o].numLikes=r[o].likes.length,M[o].likes=r[o].likes;var u=!1;if(M[o].numLikes>0)for(var a=0;a<M[o].numLikes;a+=1)M[o].myID===M[o].likes[a]._id&&(u=!0);M[o].myLike=u}z.renderItems()})).catch((function(e){return alert(e)}))})();